<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>drum</title>
    <link href="style.css" rel="stylesheet">
  </head>
  <body>
    <div class="keys">
      <div data-key="65" class="key"><kbd>A</kbd> <span class="sound">clap</span></div>
      <div data-key="66" class="key"><kbd>B</kbd> <span class="sound">kick</span></div>
      <div data-key="67" class="key"><kbd>C</kbd> <span class="sound">pelo</span></div>
      <div data-key="68" class="key"><kbd>D</kbd> <span class="sound">snare</span></div>
      <div data-key="69" class="key"><kbd>E</kbd> <span class="sound">crow</span></div>
      <div data-key="70" class="key"><kbd>F</kbd> <span class="sound">stick</span></div>
    </div>
    <audio data-key="65" src="sound/707_HCP.WAV"></audio>
    <audio data-key="66" src="sound/73.wav"></audio>
    <audio data-key="67" src="sound/african-pe-lo.wav"></audio>
    <audio data-key="68" src="sound/chomp-snare.wav"></audio>
    <audio data-key="69" src="sound/crow-caw.wav"></audio>
    <audio data-key="70" src="sound/rain-stick-delicate.wav"></audio>

    <script>
      window.addEventListener('keydown',function(e) {
        //console.log(e.keyCode) 
        const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`)
        const key = document.querySelector(`.key[data-key="${e.keyCode}"]`)
        console.log(audio)
        if(!audio) return
        audio.currentTime = 0;
        audio.play();
        key.classList.add('playing')
      })

      function remove(e) {
        if (e.propertyName !== 'transform') return;
        // setTimeout(() => {
          this.classList.remove('playing')
        // },500)
       } 
      const keys= document.querySelectorAll('.key')
      keys.forEach(key=> key.addEventListener('transitionend',remove))
    </script>
  </body>
</html>
